<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Leaderboard</title>
    <style>
        body { font-family: sans-serif; background-color: #fff; margin: 1em; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 8px 12px; border: 1px solid #ddd; text-align: left; }
        th { background-color: #f4f4f4; }
    </style>
</head>
<body>
    <div id="character-leaderboard"></div>
    <script>
        async function fetchLeaderboard() {
            try {
                const response = await fetch('/api/leaderboard/characters');
                const data = await response.json();
                const leaderboardDiv = document.getElementById('character-leaderboard');
                
                let table = '<table><thead><tr><th>Rank</th><th>Character</th><th>Games</th><th>Win Rate</th><th>Success Rate</th></tr></thead><tbody>';
                data.characters.forEach((char, index) => {
                    table += `<tr><td>${index + 1}</td><td>${char.character_name}</td><td>${char.games_played}</td><td>${char.win_rate}%</td><td>${char.success_rate}%</td></tr>`;
                });
                table += '</tbody></table>';
                leaderboardDiv.innerHTML = table;
            } catch (error) {
                console.error('Error fetching leaderboard:', error);
                document.getElementById('character-leaderboard').innerHTML = '<p>Error loading leaderboard.</p>';
            }
        }

        setInterval(fetchLeaderboard, 30000);
        fetchLeaderboard();
    </script>
</body>
</html>
